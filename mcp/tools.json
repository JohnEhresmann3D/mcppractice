{
  "tools": [

    {
      "name": "workspace.read_file",
      "description": "Read a text file from the workspace.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "path": { "type": "string" },
          "start_line": { "type": "integer" },
          "end_line": { "type": "integer" }
        },
        "required": ["path"]
      }
    },

    {
      "name": "workspace.search_code",
      "description": "Search code in the workspace.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": { "type": "string" },
          "globs": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["query"]
      }
    },

    {
      "name": "workspace.apply_patch",
      "description": "Apply a unified diff patch.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "patch": { "type": "string" },
          "dry_run": { "type": "boolean" }
        },
        "required": ["patch"]
      }
    },

    {
      "name": "workspace.run_command",
      "description": "Run an allowlisted command.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "command": {
            "type": "array",
            "items": { "type": "string" }
          },
          "cwd": { "type": "string" },
          "timeout_ms": { "type": "integer" }
        },
        "required": ["command"]
      }
    },

    {
      "name": "logic.review_reasoning",
      "description": "Rule-based critique of reasoning and risk.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "goal": { "type": "string" },
          "facts": {
            "type": "array",
            "items": { "type": "string" }
          },
          "assumptions": {
            "type": "array",
            "items": { "type": "string" }
          },
          "files_inspected": {
            "type": "array",
            "items": { "type": "string" }
          },
          "checks_run": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["goal"]
      }
    },

    {
      "name": "pm.plan_task",
      "description": "Break a request into a small executable task plan.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_title": { "type": "string" },
          "task_description": { "type": "string" },
          "constraints": {
            "type": "array",
            "items": { "type": "string" }
          },
          "definition_of_done": {
            "type": "array",
            "items": { "type": "string" }
          },
          "max_tasks": { "type": "integer" }
        },
        "required": ["task_title", "task_description"]
      }
    }

  ]
}
